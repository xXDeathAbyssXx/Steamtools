import{s as M,f as R,g as T,h as W,d as S,j as g,k as y,i as j,L as l,v as X,G as q,o as B,p as G}from"./scheduler.648f142a.js";import{g as L}from"./globals.7f7f1b26.js";import{S as N,i as V}from"./index.ae413033.js";const{window:F}=L;function H(n){let t,e,a;return{c(){t=R("canvas"),this.h()},l(s){t=T(s,"CANVAS",{class:!0,width:!0,height:!0}),W(t).forEach(S),this.h()},h(){g(t,"class","canva-custom"),g(t,"width",n[0]),g(t,"height",n[1]),y(t,"background",n[2])},m(s,h){j(s,t,h),n[12](t),e||(a=[l(F,"resize",n[9]),l(t,"mousedown",n[6]),l(t,"touchstart",n[13]),l(t,"mouseup",n[7]),l(t,"touchend",n[7],{passive:!0}),l(t,"mouseleave",n[7]),l(t,"mousemove",n[8]),l(t,"touchmove",n[14])],e=!0)},p(s,[h]){h&1&&g(t,"width",s[0]),h&2&&g(t,"height",s[1]),h&4&&y(t,"background",s[2])},i:X,o:X,d(s){s&&S(t),n[12](null),e=!1,q(a)}}}function I(n,t,e){var a;let{width:s=350}=t,{height:h=300}=t,{color:u="#333"}=t,{background:d="#fff"}=t;const Y=()=>{f&&e(11,f.strokeStyle=u,f)};let i,f,w,b,_,m;B(()=>{e(11,f=i.getContext("2d")),e(11,f.lineWidth=3,f),p()});const k=({offsetX:o,offsetY:c})=>{u===d?f.clearRect(0,0,s,h):(w=!0,b={x:o,y:c})},D=()=>{w=!1},C=({offsetX:o,offsetY:c})=>{if(!w)return;const{x:r,y:E}=b;f.beginPath(),f.moveTo(r,E),f.lineTo(o,c),f.closePath(),f.stroke(),b={x:o,y:c}},p=()=>{const{top:o,left:c}=i.getBoundingClientRect();e(4,_=o),e(5,m=c),a=window.innerWidth;var r=detectPlatform(a);r==="phone_portrait"?(e(0,s=350),e(1,h=300)):r==="phone_landscape"?(e(0,s=400),e(1,h=400)):r==="tablet_portrait"?(e(0,s=500),e(1,h=400)):r==="tablet_landscape"?(e(0,s=800),e(1,h=400)):r==="laptop"?(e(0,s=1e3),e(1,h=500)):r==="desktop"?(e(0,s=1300),e(1,h=500)):r==="desktop_big"&&(e(0,s=1450),e(1,h=500))};function P(o){G[o?"unshift":"push"](()=>{i=o,e(3,i)})}const z=o=>{const{clientX:c,clientY:r}=o.touches[0];k({offsetX:c-m,offsetY:r-_})},A=o=>{const{clientX:c,clientY:r}=o.touches[0];C({offsetX:c-m,offsetY:r-_})};return n.$$set=o=>{"width"in o&&e(0,s=o.width),"height"in o&&e(1,h=o.height),"color"in o&&e(10,u=o.color),"background"in o&&e(2,d=o.background)},n.$$.update=()=>{n.$$.dirty&3072&&f&&e(11,f.strokeStyle=u,f)},Y(),[s,h,d,i,_,m,k,D,C,p,u,f,P,z,A]}class Q extends N{constructor(t){super(),V(this,t,I,H,M,{width:0,height:1,color:10,background:2})}}export{Q as C};
